spring.application.name=apigateway
eureka.instance.hostname=localhost
server.port=8081
spring.cloud.gateway.server.webflux.routes[5].id=analytics-service
spring.cloud.gateway.server.webflux.routes[5].uri=lb://analytics-service
spring.cloud.gateway.server.webflux.routes[5].predicates[0]=Path=/api/v1/analytics-service/**
spring.cloud.gateway.server.webflux.routes[5].filters[0]=AuthenticationFilter
spring.cloud.gateway.server.webflux.routes[5].filters[1]=RewritePath=/api/v1/analytics-service(?<segment>/?.*), /api/v1/analytics-service/${segment}
spring.cloud.gateway.server.webflux.routes[4].id=order-service
spring.cloud.gateway.server.webflux.routes[4].uri=lb://order-service
spring.cloud.gateway.server.webflux.routes[4].predicates[0]=Path=/api/v1/order-service/**
spring.cloud.gateway.server.webflux.routes[4].filters[0]=AuthenticationFilter
spring.cloud.gateway.server.webflux.routes[4].filters[1]=RewritePath=/api/v1/order-service(?<segment>/?.*), /api/v1/order-service/${segment}
spring.cloud.gateway.server.webflux.routes[3].id=cart-service
spring.cloud.gateway.server.webflux.routes[3].uri=lb://cart-service
spring.cloud.gateway.server.webflux.routes[3].predicates[0]=Path=/api/v1/cart-service/**
spring.cloud.gateway.server.webflux.routes[3].filters[0]=AuthenticationFilter
spring.cloud.gateway.server.webflux.routes[3].filters[1]=RewritePath=/api/v1/cart-service(?<segment>/?.*), /api/v1/cart-service/${segment}
spring.cloud.gateway.server.webflux.routes[2].id=product-service
spring.cloud.gateway.server.webflux.routes[2].uri=lb://product-service
spring.cloud.gateway.server.webflux.routes[2].predicates[0]=Path=/api/v1/product-service/**
spring.cloud.gateway.server.webflux.routes[2].filters[0]=AuthenticationFilter
spring.cloud.gateway.server.webflux.routes[2].filters[1]=RewritePath=/api/v1/product-service(?<segment>/?.*), /api/v1/product-service/${segment}
spring.cloud.gateway.server.webflux.routes[1].id=user-service
spring.cloud.gateway.server.webflux.routes[1].uri=lb://user-service
spring.cloud.gateway.server.webflux.routes[1].predicates[0]=Path=/api/v1/user-service/**
spring.cloud.gateway.server.webflux.routes[1].filters[0]=RewritePath=/api/v1/user-service(?<segment>/?.*),/api/v1/user-service/${segment}
# openssl rand -base64 32 JWT Secret Key
genc.jwt.secret=${JWT_AUTH_KEY}
# JWT Expiration (e.g., 15 minutes milliseconds)
genc.jwt.expiration=2700000
logging.level.org.springframework.cloud.gateway=trace
logging.level.org.springframework.cloud.loadbalancer=trace
logging.level.org.infra.genc.apigateway.filter=DEBUG

#management.endpoints.web.exposure.include=health,info,gateway
spring.cloud.gateway.server.webflux.default-filters= \
DedupeResponseHeader=Access-Control-Allow-Origin, \
DedupeResponseHeader=Access-Control-Allow-Credentials, \
DedupeResponseHeader=Access-Control-Allow-Methods
# --------------------------------------------------------------------------------
# 1. OPEN ENDPOINTS ROUTE (Bypasses security - Must be Order 0)
# --------------------------------------------------------------------------------
# Note: You must list all 'open' endpoints here using the Or Predicate '||'
#spring.cloud.gateway.server.webflux.routes[0].id=openEndpoints
#spring.cloud.gateway.server.webflux.routes[0].uri=no://op
## This 'no://op' URI is a convention for routes that shouldn't go anywhere,
## but are only used to apply/skip a filter.
## If these endpoints are managed by separate services, point the URI to 'lb://SERVICE-ID'.
## PREDICATES: Match ALL endpoints from your RouteValidator.
#spring.cloud.gateway.server.webflux.routes[0].predicates[0]=Path=/api/v1/userservice/register ||  Path=/api/v1/userservice/login || Path=/eureka/**
#
